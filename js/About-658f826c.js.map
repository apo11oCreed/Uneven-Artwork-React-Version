{"version":3,"file":"About-658f826c.js","sources":["../../src/app/routes/about/CopySingleImage.jsx","../../src/app/routes/about/About.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\n\nexport default function CopySingleImage({copyimage}) {\n\n\tconst paragraphText = useRef();\n\tconst firstSentenceRegex=new RegExp('(.*?)[.?!]')\n\n\tuseEffect(() => {\n\t\tlet firstSentence=firstSentenceRegex.exec(paragraphText.current.innerHTML),\n\t\tfirstSentenceReplaced;\n\n\t\tif(paragraphText.current.children.length){\n\t\t\treturn;\n\t\t}\n\t\tfirstSentenceReplaced = paragraphText.current.innerHTML.replace(/(.*?)[.?!]/, '<strong class=\"first-sentence\">' + firstSentence[0] + '</strong>');\n\t\treturn paragraphText.current.innerHTML=firstSentenceReplaced;\n\t\t\n\t},[]);\n\n\treturn (\n\n\t\t//.*\\. regex to target the first sentence in the paragraphs\n\t\t<div className='segment tw-w-full md:tw-w-[70rem] tw-border-b last-of-type:tw-border-b-0  tw-pb-[4rem] tw-mb-[4rem] tw-mx-auto tw-clear-both'>\n\t\t\t<div className=\"tw-p-0 md:tw-pl-[2rem] md:tw-pr-[2rem] tw-inline-block\">\n\n\t\t\t<div className=\"tw-hidden md:tw-block tw-float-right\"><img className='tw-rounded-lg tw-max-w-md tw-ml-6 tw-mb-6' src={copyimage.media.url} alt={copyimage.media.title} /></div>\n\t\t\t<p ref={paragraphText} className='tw-pl-[2rem] tw-pt-[4rem] tw-mb-[2rem] md:tw-mb-0'>{copyimage.text.json.content[0].content[0].value}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useEffect,useState } from 'react';\nimport CopySingleImage from './CopySingleImage';\n\nexport default function About() {\n\n\tconst contentful = import.meta.env;\n\n\tconst [copyBaseCollection, setCopyBaseCollection]=useState([]);\n\n\tuseEffect(() => {\n\t\tconst spaceId = contentful.VITE_CONTENTFUL_SPACE_ID;\n\t\tconst accessToken = contentful.VITE_CONTENTFUL_DELIVERY_API_ACCESS_TOKEN;\n\n\t\tconst query = `\n\t\t\tquery aboutCopy {\n\t\t\t\tcopyBaseCollection(where:{\n\t\t\t\t\tcontentfulMetadata:{\n\t\t\t\t\t\ttags:{\n\t\t\t\t\t\t\tid_contains_some:\"pAbout\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}){\n\t\t\t\t\titems{\n\t\t\t\t\t\tid\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\ttext(locale:\"en-US\"){\n\t\t\t\t\t\t\tjson\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmedia{\n\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t`;\n\n\t\tlet copyImageQuery = [];\n\n\t\twindow\n\t\t\t.fetch(`https://graphql.contentful.com/content/v1/spaces/${spaceId}/environments/master`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'content-type': 'application/json',\n\t\t\t\t\tAuthorization: `Bearer ${accessToken}`,\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tquery,\n\t\t\t\t}),\n\t\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then(({ data, errors }) => {\n\t\t\t\tif (errors) {\n\t\t\t\t\tconsole.error(errors);\n\t\t\t\t}\n\n\t\t\t\tcopyImageQuery = data.copyBaseCollection.items;\n\n\t\t\t\tsetCopyBaseCollection(copyImageQuery);\n\n\t\t\t});\n\t}, []);\n\n\treturn (\n\t\t<section className='about'>\n\n\t\t\t<h2 className='tw-text-black tw-text-center tw-font-bold'>About Me</h2>\n\t\t\t{copyBaseCollection.sort((a, b) => a.id - b.id).map((item,index)=>{\n\t\t\t\t//https://stackoverflow.com/questions/51219133/how-to-sort-a-map-by-a-specific-field-in-es6-react\n\t\t\t\treturn (\n\t\t\t\t\t<CopySingleImage key={index} copyimage={item} />\n\t\t\t\t);\n\t\t\t})}\n\t\t</section>\n\t);\n}\n"],"names":["CopySingleImage","copyimage","paragraphText","useRef","firstSentenceRegex","RegExp","useEffect","firstSentence","exec","current","innerHTML","firstSentenceReplaced","children","length","replace","_jsx","media","url","title","text","json","content","value","About","contentful","import","copyBaseCollection","setCopyBaseCollection","useState","spaceId","VITE_CONTENTFUL_SPACE_ID","accessToken","VITE_CONTENTFUL_DELIVERY_API_ACCESS_TOKEN","query","copyImageQuery","fetch","method","headers","Authorization","body","JSON","stringify","then","res","data","errors","console","error","items","sort","a","b","id","map","item","index"],"mappings":"uDAEA,SAAwBA,EAAgB,CAACC,UAAAA,CAAD,EAAa,CAE9CC,MAAAA,EAAgBC,EAAAA,QAAAA,SAChBC,EAAmB,IAAIC,OAAO,YAAX,EAEzBC,OAAAA,EAAAA,QAAAA,UAAU,IAAM,CACXC,IAAAA,EAAcH,EAAmBI,KAAKN,EAAcO,QAAQC,SAA9C,EAClBC,EAEGT,GAAAA,CAAAA,EAAcO,QAAQG,SAASC,OAGVX,OAAAA,EAAAA,EAAcO,QAAQC,UAAUI,QAAQ,aAAc,kCAAoCP,EAAc,GAAK,WAA7G,EACjBL,EAAcO,QAAQC,UAAUC,CAR/B,EAUP,CAVO,CAAA,IAeR,MAAA,CAAK,UAAU,+HACd,WAAA,MAAA,CAAK,UAAU,yDAEf,SAAA,CAAAI,EAAA,MAAA,CAAK,UAAU,uCAAuC,WAAA,MAAA,CAAK,UAAU,4CAA4C,IAAKd,EAAUe,MAAMC,IAAK,IAAKhB,EAAUe,MAAME,KAAAA,CAA1G,CAAA,CAAtD,EACAH,EAAA,IAAA,CAAG,IAAKb,EAAe,UAAU,oDAAjC,SAAsFD,EAAUkB,KAAKC,KAAKC,QAAQ,GAAGA,QAAQ,GAAGC,KAAAA,CAHhI,CAAA,CAAA,CAAA,CAAA,CADD,CAQD,CC3BD,SAAwBC,GAAQ,CAE/B,MAAMC,EAAaC,CAAAA,yBAAAA,eAAAA,0CAAAA,8CAAAA,SAAAA,IAAAA,KAAAA,aAAAA,IAAAA,GAAAA,KAAAA,EAAAA,EAEb,CAACC,EAAoBC,CAArB,EAA4CC,EAAAA,QAAAA,SAAS,CAAD,CAAA,EAE1DtB,OAAAA,EAAAA,QAAAA,UAAU,IAAM,CACf,MAAMuB,EAAUL,EAAWM,yBACrBC,EAAcP,EAAWQ,0CAEzBC,EAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAwBXC,IAAAA,EAAiB,CAAA,EAGnBC,OAAAA,MAAO,oDAAmDN,wBAA+B,CACzFO,OAAQ,OACRC,QAAS,CACR,eAAgB,mBAChBC,cAAgB,UAASP,GAJ+D,EAMzFQ,KAAMC,KAAKC,UAAU,CACpBR,MAAAA,CAAAA,CADK,CAAA,CAPR,EAWES,KAAMC,GAAQA,EAAIvB,KAXpB,CAAA,EAYEsB,KAAK,CAAC,CAAEE,KAAAA,EAAMC,OAAAA,CAAAA,IAAa,CACvBA,GACHC,QAAQC,MAAMF,CAAd,EAGDX,EAAiBU,EAAKlB,mBAAmBsB,MAEzCrB,EAAsBO,CAAD,CAAA,CAnBvB,CA9BQ,EAoDN,CApDM,CAAA,IAuDR,UAAA,CAAS,UAAU,QAElB,SAAA,CAAAnB,EAAA,KAAA,CAAI,UAAU,4CAAd,SAAA,UAFD,CAAA,EAGEW,EAAmBuB,KAAK,CAACC,EAAGC,IAAMD,EAAEE,GAAKD,EAAEC,EAA3C,EAA+CC,IAAI,CAACC,EAAKC,MAGvDvD,EAAD,CAA6B,UAAWsD,GAAlBC,CAAtB,CAHD,CAHF,CAAA,CADD,CAYA"}